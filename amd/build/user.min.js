define(["jquery","core/ajax"],function(a,b){function c(c){if("undefined"!=typeof e)return void c();var d=b.call([{methodname:"local_kent_user_get_my_prefs",args:{}}]);d[0].done(function(b){e=[],a.each(b,function(a){var c=b[a];e[c.name]="1"==c.value}),c()}),d[0].fail(function(a){console.log(a)})}function d(c){if("undefined"!=typeof f)return void c();var d=b.call([{methodname:"local_kent_user_get_my_info_data",args:{}}]);d[0].done(function(b){f=[],a.each(b,function(a){var c=b[a];f[c.name]="1"==c.value}),c()}),d[0].fail(function(a){console.log(a)})}var e,f;return{get_prefs:function(a){c(function(){a(e)})},get_pref:function(a,b){c(function(){b(e[a])})},get_all_info:function(a){d(function(){a(f)})},get_info:function(a,b){d(function(){b(f[a])})}}});